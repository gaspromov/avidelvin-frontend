import{a as _}from"./chunk-XD3R6CWF.js";import{b as A}from"./chunk-MQOTVF7K.js";import{$ as k,Cb as E,Eb as p,Fa as m,Ga as S,Pa as b,Pb as F,Qa as M,T as v,_a as d,ab as O,ba as u,cb as j,cc as U,db as P,eb as h,fb as C,gb as c,hb as l,ib as T,ja as x,mb as w,qa as y,r as f,va as D,wb as q,xb as R}from"./chunk-KYRPRQWL.js";var H=["canvas"],g=class n{canvasTmpl=M("canvas");imgUrl=D.required();ngAfterViewInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["avi-image"]],viewQuery:function(e,i){e&1&&q(i.canvasTmpl,H,5),e&2&&R()},inputs:{imgUrl:[1,"imgUrl"]},standalone:!0,features:[p],decls:2,vars:1,consts:[[1,"artboard",3,"contextmenu"],["loading","lazy","fill","","alt","",3,"contextmenu","ngSrc"]],template:function(e,i){e&1&&(c(0,"div",0),w("contextmenu",function(r){return r.preventDefault()}),l(),c(1,"img",1),w("contextmenu",function(r){return r.preventDefault()}),l()),e&2&&(m(),d("ngSrc",i.imgUrl()))},dependencies:[U],styles:["[_nghost-%COMP%]{position:relative;display:grid;min-height:200px}img[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;height:100%;width:100%;object-fit:cover}.artboard[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:10;height:100%;width:100%;opacity:1}"]})};function I(n,t){let e=!t?.manualCleanup;e&&!t?.injector&&x(I);let i=e?t?.injector?.get(y)??k(y):null,a=V(t?.equal),r;t?.requireSync?r=b({kind:0},{equal:a}):r=b({kind:1,value:t?.initialValue},{equal:a});let s=n.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{if(t?.rejectErrors)throw o;r.set({kind:2,error:o})}});if(t?.requireSync&&r().kind===0)throw new v(601,!1);return i?.onDestroy(s.unsubscribe.bind(s)),F(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new v(601,!1)}},{equal:t?.equal})}function V(n=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&n(t.value,e.value)}function z(n,t){if(n&1&&T(0,"avi-image",3),n&2){let e=t.$implicit;d("imgUrl",e)}}function Q(n,t){if(n&1&&(c(0,"div",2),h(1,z,1,1,"avi-image",3,P),l()),n&2){let e=t.$implicit;O(e.length===1?"image-block_alone":"image-block_dual"),m(),C(e)}}var B=class n{constructor(t){this.http=t;this.images=I(this.http.get(`${_}/api/images`).pipe(f(e=>e.map(i=>`${_}${i}`)),f(e=>{let i=[],a=(r,s)=>r?.length===2&&s?.length===2;return e.forEach(r=>{let s=i.at(-1),o=i.at(-2),N=i.at(-3);!s||s.length===2||a(N,o)?i.push([r]):s.push(r)}),i})))}images;static \u0275fac=function(e){return new(e||n)(S(A))};static \u0275cmp=u({type:n,selectors:[["avi-images-page"]],standalone:!0,features:[p],decls:4,vars:0,consts:[[1,"content"],[1,"image-block",3,"class"],[1,"image-block"],[3,"imgUrl"]],template:function(e,i){if(e&1&&(E(0),c(1,"div",0),h(2,Q,3,2,"div",1,j),l()),e&2){let a=i.images();m(2),C(a)}},dependencies:[g],styles:[".content[_ngcontent-%COMP%]{display:grid;width:100%;max-width:64rem;gap:1.25rem;justify-self:center}.image-block[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;gap:.625rem}@media (min-width: 768px){.image-block[_ngcontent-%COMP%]{gap:1.25rem}}avi-image[_ngcontent-%COMP%]{height:700px}"]})};export{B as ImagesPageComponent};
